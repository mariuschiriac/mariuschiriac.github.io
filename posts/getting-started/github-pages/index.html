<!doctype html><html><head><title>Deploy site in Github Pages</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=/assets/css/bootstrap.min.css><link rel=stylesheet href=/assets/css/layouts/main.css><link rel=stylesheet href=/assets/css/style.css><link rel=stylesheet href=/assets/css/navigators/navbar.css><link href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css><link rel=icon type=image/png href=/assets/images/favicon.png><link rel=stylesheet href=/assets/css/style.css><meta name=description content="Deploy site in Github Pages"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css><link rel=stylesheet href=/assets/css/layouts/single.css><link rel=stylesheet href=/assets/css/navigators/sidebar.css><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','G-GL0HTQZQGK','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-dimmed wrapper"><nav class="navbar navbar-expand-xl top-navbar final-navbar shadow"><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button onclick=toggleSidebar()>
<span class=navbar-toggler-icon></span></button>
<a class=navbar-brand href=/><img src=/assets/images/main-logo.png>Marius Chiriac</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button onclick=toggleTOC()>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse lang-selector" id=top-nav-items><ul class="navbar-nav ml-auto"></ul></div></div><img src=/assets/images/main-logo.png class=d-none id=main-logo>
<img src=/assets/images/inverted-logo.png class=d-none id=inverted-logo></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><input type=text placeholder=Search data-search id=search-box><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts data-filter=all>Posts</a></li><div class=subtree><li><a href=/posts/features/>Features</a></li><li><i class="fas fa-minus-circle"></i><a class=active href=/posts/getting-started/>Getting Started</a><ul class=active><li><a href=/posts/getting-started/prepare-site/>Prepare Site</a></li><li><a class=active href=/posts/getting-started/github-pages/>Deploy in Github Pages</a></li><li><a href=/posts/getting-started/netlify/>Deploy in Netlify</a></li><li><a href=/posts/getting-started/theme-update/>Automate Theme Update</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/configuration/>Configuration</a><ul><li><a href=/posts/configuration/site-parameters/>Site Parameters</a></li><li><i class="fas fa-plus-circle"></i><a href=/posts/configuration/sections/>Sections</a><ul><li><a href=/posts/configuration/sections/about-section/>About Section</a></li><li><a href=/posts/configuration/sections/skills-section/>Skills Section</a></li><li><a href=/posts/configuration/sections/experience-section/>Experiences Section</a></li><li><a href=/posts/configuration/sections/project-section/>Projects Section</a></li><li><a href=/posts/configuration/sections/recent-posts-section/>Recent Posts Section</a></li><li><a href=/posts/configuration/sections/achievements-section/>Achievements Section</a></li></ul></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/writing-posts/>Writing Posts</a><ul><li><i class="fas fa-plus-circle"></i><a href=/posts/writing-posts/category/>Category</a><ul><li><a href=/posts/writing-posts/category/creating-category/>Creating Category</a></li><li><i class="fas fa-plus-circle"></i><a href=/posts/writing-posts/category/sub-category/>Sub-Category</a><ul><li><a href=/posts/writing-posts/category/sub-category/creating-sub-category/>Creating Sub-Category</a></li></ul></li></ul></li><li><a href=/posts/writing-posts/front-matter/>Front Matter</a></li><li><a href=/posts/writing-posts/markdown-syntax-guide/>Markdown Guide</a></li><li><a href=/posts/writing-posts/math-type-settings/>Math Guide</a></li><li><a href=/posts/writing-posts/rich-content/>Rich Content</a></li><li><a href=/posts/writing-posts/using-emoji/>Using Emoji</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/customizing/>Customizing</a><ul><li><a href=/posts/customizing/add-section/>Adding New Section</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/translation/>Translation</a><ul><li><a href=/posts/translation/site-data/>Translating Homepage</a></li><li><a href=/posts/translation/content/>Translating Posts</a></li></ul></li><li><a href=/posts/analytics-and-comments/>Analytics & Comments</a></li><li><i class="fas fa-plus-circle"></i><a href=/posts/short-codes/>Short Codes</a><ul><li><a href=/posts/short-codes/alert/>Alert</a></li><li><a href=/posts/short-codes/img/>Image</a></li><li><a href=/posts/short-codes/split/>Split</a></li><li><a href=/posts/short-codes/vs/>Vertical Space</a></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(https://mariuschiriac.github.io/posts/getting-started/github-pages/images/octocat.jpg)></div><div class=page-content><div class="author-profile ml-auto align-self-lg-center"><img class=rounded-circle src=/images/avatar.png><h5 class=author-name>Marius Chiriac</h5><p>June 8, 2020</p></div><div class=title><h1>Deploy site in Github Pages</h1></div><div class=post-content id=post-content><p>In this post, we are going to deploy the site we have created in previous post in <a href=https://pages.github.com/>Github Pages</a>. At first, make sure that your repository name is <code>&lt;your username>.github.io</code>. Then, commit any local uncommitted changes and push into Github.</p><h4 id=setup-default-branch>Setup Default Branch</h4><p>GitHub don&rsquo;t serve a site from hugo templates directly. Instead, we have to provide the generated (HTML, CSS, JS etc.) files after building the site. From now, we are going to maintain two branches for our site. The <code>main</code> (previously known as <code>master</code>) branch will holds the generated contents after building the site. Github will serve the site from this branch. We will create another branch named <code>source</code>. This will hold our markdowns files and hugo templates.</p><p>Let&rsquo;s create the <code>source</code> branch <code>main</code> branch and push it into Github.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># create the source brach</span>
$ git checkout -b source
<span style=color:#75715e># push the source branch into Github</span>
$ git push origin source
</code></pre></div><p>Now, we are going to set the <code>source</code> branch as our default branch. Go to <code>Settings > Branches</code> of your repository and replace <code>main</code> with <code>source</code> under <code>Default branch</code> section. Then, save the change by clicking <code>Update</code> button. A screenshot of the process is shown below:</p><img src=/posts/getting-started/github-pages/images/set_default_branch.png class=center><p><div style=margin-top:2rem></div>Going forward, all our developments will happen against this <code>source</code> branch.</p><h4 id=set-github-pages-branch>Set Github Pages Branch</h4><p>Now, we have to tell Github which branch we are using for holding generated contents. Go to the <code>Settings</code> of your repository. Scroll down until you find <code>Github Pages</code> section. Select <code>main</code> branch and <code>/(root)</code> directory under <code>Source</code> section.</p><img src=/posts/getting-started/github-pages/images/github_pages_branch.png class=center><h4 id=enable-github-action>Enable Github Action</h4><p>We are going to automate the deploying process using <a href=https://github.com/features/actions>Github Actions</a>. At first, make sure that Github Action is enabled in your repository. Go to <code>Settings > Actions</code> of your repository and make sure <code>Action permissions</code> is set to <code>Allow all actions</code>. Here, is a screenshot of the respective setting:</p><img src=/posts/getting-started/github-pages/images/enable_action.png class=center><h4 id=add-workflow>Add Workflow</h4><p>We are going to use <a href=https://github.com/peaceiris/actions-hugo>peaceiris/actions-hugo</a> action to set up hugo and <a href=https://github.com/peaceiris/actions-gh-pages>peaceiris/actions-gh-pages</a> to deploy the site. Create <code>.github</code> folder at the root of your repository. Then, create <code>workflows</code> folder inside the <code>.github</code> folder. Finally, create a <code>deploy-site.yaml</code> file inside the <code>workflows</code> folder and add the following content there:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#f92672>name</span>: <span style=color:#ae81ff>Deploy to Github Pages</span>

<span style=color:#75715e># run when a commit is pushed to &#34;source&#34; branch</span>
<span style=color:#f92672>on</span>:
  <span style=color:#f92672>push</span>:
    <span style=color:#f92672>branches</span>:
    - <span style=color:#ae81ff>source</span>

<span style=color:#f92672>jobs</span>:
  <span style=color:#f92672>deploy</span>:
    <span style=color:#f92672>runs-on</span>: <span style=color:#ae81ff>ubuntu-18.04</span>
    <span style=color:#f92672>steps</span>:
    <span style=color:#75715e># checkout to the commit that has been pushed</span>
    - <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/checkout@v2</span>
      <span style=color:#f92672>with</span>:
        <span style=color:#f92672>submodules</span>: <span style=color:#66d9ef>true</span>  <span style=color:#75715e># Fetch Hugo themes (true OR recursive)</span>
        <span style=color:#f92672>fetch-depth</span>: <span style=color:#ae81ff>0</span>    <span style=color:#75715e># Fetch all history for .GitInfo and .Lastmod</span>
    
    <span style=color:#75715e># install Hugo</span>
    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Setup Hugo</span>
      <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>peaceiris/actions-hugo@v2</span>
      <span style=color:#f92672>with</span>:
        <span style=color:#f92672>hugo-version</span>: <span style=color:#e6db74>&#39;0.77.0&#39;</span>
        <span style=color:#f92672>extended</span>: <span style=color:#66d9ef>true</span>

    <span style=color:#75715e># build website</span>
    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Build</span>
      <span style=color:#f92672>run</span>: <span style=color:#ae81ff>hugo --minify</span>

    <span style=color:#75715e># push the generated content into the `main` (former `master`) branch.</span>
    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Deploy</span>
      <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>peaceiris/actions-gh-pages@v3</span>
      <span style=color:#f92672>with</span>:
        <span style=color:#f92672>github_token</span>: <span style=color:#ae81ff>${{ secrets.GITHUB_TOKEN }}</span>
        <span style=color:#f92672>publish_branch</span>: <span style=color:#ae81ff>main</span> <span style=color:#75715e># if your main branch is `master` use that here.</span>
        <span style=color:#f92672>publish_dir</span>: <span style=color:#ae81ff>./public</span>
</code></pre></div><p>This action will start on every push into the <code>source</code> branch. It will build the site and commit the generated content into <code>main</code> branch.</p><h4 id=deploy>Deploy</h4><p>If you have followed the guide properly, your site should be ready to deploy in Github Pages. Now, if you push any commit into your <code>source</code> branch, a Github Action will start and deploy your site automatically.</p><p>Push a commit into the <code>source</code> branch and go to <code>Actions</code> tab of your repository to verify that the action has started.</p><img src=/posts/getting-started/github-pages/images/action_running.png class=center><div style=margin-top:2rem></div><p>Now, wait for the actions to complete. If it completes successfully, you should see a green tick indicating successful run.</p><img src=/posts/getting-started/github-pages/images/action_completed.png class=center><div style=margin-top:2rem></div><p>Once the Github Action has completed successfully, you can browse your site at <code>https://&lt;your username>.github.io</code>.</p><img src=/posts/getting-started/github-pages/images/site_deployed.png class=center></div><div class=btn-improve-page><a href=https://github.com/mariuschiriac/mariuschiriac.github.io/edit/master/content/posts/getting-started/github-pages/index.md><i class="fas fa-code-branch"></i>Improve this page</a></div><hr><div class="row next-prev-navigator"><div class="col-md-6 previous-article"><a href=/posts/getting-started/prepare-site/ class="btn btn-outline-info"><span><i class="fas fa-chevron-circle-left"></i>Prev</span><br><span>Prepare Your Site</span></a></div><div class="col-md-6 next-article"><a href=/posts/getting-started/netlify/ class="btn btn-outline-info"><span>Next <i class="fas fa-chevron-circle-right"></i></span><br><span>Deploy site in Netlify</span></a></div></div><hr></div></div></div></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center pl-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents><ul><li><ul><li><ul><li><a href=#setup-default-branch>Setup Default Branch</a></li><li><a href=#set-github-pages-branch>Set Github Pages Branch</a></li><li><a href=#enable-github-action>Enable Github Action</a></li><li><a href=#add-workflow>Add Workflow</a></li><li><a href=#deploy>Deploy</a></li></ul></li></ul></li></ul></nav></div></div></section></div><footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=#about>About</a></li><li class=nav-item><a class=smooth-scroll href=#skills>Skills</a></li><li class=nav-item><a class=smooth-scroll href=#experiences>Experiences</a></li><li class=nav-item><a class=smooth-scroll href=#projects>Projects</a></li><li class=nav-item><a class=smooth-scroll href=#recent-posts>Recent Posts</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><span>Email:</span> <span>redarked@gmail.com.com</span></li><li><span>Phone:</span> <span>+393880947809</span></li></ul></div></div></div><hr><div class=container><div class="row text-left"><div class=col-md-4><a id=theme href=https://github.com/hossainemruz/toha target=#><img src=/assets/images/inverted-logo.png>
Toha</a></div><div class="col-md-4 text-center">© 2020 Marius Chiriac.</div><div class="col-md-4 text-right"><a id=hugo href=https://gohugo.io/>Powered by
<img src=/assets/images/hugo-logo-wide.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/assets/js/jquery-3.4.1.min.js></script><script src=/assets/js/popper.min.js></script><script src=/assets/js/bootstrap.min.js></script><script src=/assets/js/navbar.js></script><script src=/assets/js/main.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js></script><script src=/assets/js/single.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>